!function(Q){var B={};function F(U){if(B[U])return B[U].exports;var n=B[U]={i:U,l:!1,exports:{}};return Q[U].call(n.exports,n,n.exports,F),n.l=!0,n.exports}F.m=Q,F.c=B,F.d=function(Q,B,U){F.o(Q,B)||Object.defineProperty(Q,B,{enumerable:!0,get:U})},F.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},F.t=function(Q,B){if(1&B&&(Q=F(Q)),8&B)return Q;if(4&B&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var U=Object.create(null);if(F.r(U),Object.defineProperty(U,"default",{enumerable:!0,value:Q}),2&B&&"string"!=typeof Q)for(var n in Q)F.d(U,n,function(B){return Q[B]}.bind(null,n));return U},F.n=function(Q){var B=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return F.d(B,"a",B),B},F.o=function(Q,B){return Object.prototype.hasOwnProperty.call(Q,B)},F.p="",F(F.s=4)}([function(module,exports){eval('(function() { module.exports = window["wc"]["wcBlocksRegistry"]; }());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgW1wid2NcIixcIndjQmxvY2tzUmVnaXN0cnlcIl0/MjUwNyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1EQUFtRCxFQUFFIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wid2NcIl1bXCJ3Y0Jsb2Nrc1JlZ2lzdHJ5XCJdOyB9KCkpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,exports){eval('(function() { module.exports = window["wp"]["htmlEntities"]; }());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgW1wid3BcIixcImh0bWxFbnRpdGllc1wiXT85MDIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGFBQWEsK0NBQStDLEVBQUUiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpIHsgbW9kdWxlLmV4cG9ydHMgPSB3aW5kb3dbXCJ3cFwiXVtcImh0bWxFbnRpdGllc1wiXTsgfSgpKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return getPayzenServerData; });\n/* harmony import */ var _woocommerce_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(3);\n/* harmony import */ var _woocommerce_settings__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_woocommerce_settings__WEBPACK_IMPORTED_MODULE_0__);\n/**\n * Copyright © Lyra Network and contributors.\n * This file is part of PayZen plugin for WooCommerce. See COPYING.md for license details.\n *\n * @author    Lyra Network (https://www.lyra.com/)\n * @author    Geoffrey Crofte, Alsacréations (https://www.alsacreations.fr/)\n * @copyright Lyra Network and contributors\n * @license   http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License (GPL v2)\n */\n\n/**\n * External dependencies.\n */\n\n/**\n * Payzen data comes form the server passed on a global object.\n */\n\nvar getPayzenServerData = function getPayzenServerData(name) {\n  var payzenServerData = Object(_woocommerce_settings__WEBPACK_IMPORTED_MODULE_0__["getSetting"])(name + \'_data\', null);\n\n  if (!payzenServerData) {\n    return;\n  }\n\n  return payzenServerData;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvYmxvY2tzL3BheXplbi11dGlscy5qcz9hOGI1Il0sIm5hbWVzIjpbImdldFBheXplblNlcnZlckRhdGEiLCJuYW1lIiwicGF5emVuU2VydmVyRGF0YSIsImdldFNldHRpbmciXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFFTyxJQUFNQSxtQkFBbUIsR0FBRyxTQUF0QkEsbUJBQXNCLENBQUNDLElBQUQsRUFBVTtBQUN6QyxNQUFNQyxnQkFBZ0IsR0FBR0Msd0VBQVUsQ0FBRUYsSUFBSSxHQUFHLE9BQVQsRUFBa0IsSUFBbEIsQ0FBbkM7O0FBRUEsTUFBSSxDQUFFQyxnQkFBTixFQUF3QjtBQUNwQjtBQUNIOztBQUVELFNBQU9BLGdCQUFQO0FBQ0gsQ0FSTSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgwqkgTHlyYSBOZXR3b3JrIGFuZCBjb250cmlidXRvcnMuXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBQYXlaZW4gcGx1Z2luIGZvciBXb29Db21tZXJjZS4gU2VlIENPUFlJTkcubWQgZm9yIGxpY2Vuc2UgZGV0YWlscy5cbiAqXG4gKiBAYXV0aG9yICAgIEx5cmEgTmV0d29yayAoaHR0cHM6Ly93d3cubHlyYS5jb20vKVxuICogQGF1dGhvciAgICBHZW9mZnJleSBDcm9mdGUsIEFsc2FjcsOpYXRpb25zIChodHRwczovL3d3dy5hbHNhY3JlYXRpb25zLmZyLylcbiAqIEBjb3B5cmlnaHQgTHlyYSBOZXR3b3JrIGFuZCBjb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL29sZC1saWNlbnNlcy9ncGwtMi4wLmh0bWwgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgKEdQTCB2MilcbiAqL1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IHsgZ2V0U2V0dGluZyB9IGZyb20gJ0B3b29jb21tZXJjZS9zZXR0aW5ncyc7XG5cbi8qKlxuICogUGF5emVuIGRhdGEgY29tZXMgZm9ybSB0aGUgc2VydmVyIHBhc3NlZCBvbiBhIGdsb2JhbCBvYmplY3QuXG4gKi9cblxuZXhwb3J0IGNvbnN0IGdldFBheXplblNlcnZlckRhdGEgPSAobmFtZSkgPT4ge1xuICAgIGNvbnN0IHBheXplblNlcnZlckRhdGEgPSBnZXRTZXR0aW5nKCBuYW1lICsgJ19kYXRhJywgbnVsbCApO1xuXG4gICAgaWYgKCEgcGF5emVuU2VydmVyRGF0YSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHBheXplblNlcnZlckRhdGE7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports){eval('(function() { module.exports = window["wc"]["wcSettings"]; }());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgW1wid2NcIixcIndjU2V0dGluZ3NcIl0/YzFiMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxhQUFhLDZDQUE2QyxFQUFFIiwiZmlsZSI6IjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKSB7IG1vZHVsZS5leHBvcnRzID0gd2luZG93W1wid2NcIl1bXCJ3Y1NldHRpbmdzXCJdOyB9KCkpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _woocommerce_blocks_registry__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _woocommerce_blocks_registry__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_woocommerce_blocks_registry__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _wordpress_html_entities__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(1);\n/* harmony import */ var _wordpress_html_entities__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _payzen_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\nvar _payzen_data$supports;\n\n/**\n * Copyright © Lyra Network and contributors.\n * This file is part of PayZen plugin for WooCommerce. See COPYING.md for license details.\n *\n * @author    Lyra Network (https://www.lyra.com/)\n * @author    Geoffrey Crofte, Alsacréations (https://www.alsacreations.fr/)\n * @copyright Lyra Network and contributors\n * @license   http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License (GPL v2)\n */\n\n/**\n * External dependencies.\n */\n\n\n/**\n * Internal dependencies.\n */\n\n\nvar PAYMENT_METHOD_NAME = 'payzenwcssubscription';\nvar payzen_data = Object(_payzen_utils__WEBPACK_IMPORTED_MODULE_2__[/* getPayzenServerData */ \"a\"])(PAYMENT_METHOD_NAME);\nvar submitButton = '.wc-block-components-checkout-place-order-button';\nvar smartbuttonMethod = '';\nvar smartbuttonAll = false;\nvar hideSmart = (payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.hide_smartbutton) && (payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.hide_smartbutton) === 'true';\nvar hideButton = false;\nvar savedData = false;\nvar newData = null;\n\nvar Content = function Content() {\n  if (payzen_data !== null && payzen_data !== void 0 && payzen_data.payment_fields) {\n    var fields = /*#__PURE__*/React.createElement(\"div\", {\n      dangerouslySetInnerHTML: {\n        __html: payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.payment_fields\n      }\n    });\n    return /*#__PURE__*/React.createElement(\"div\", null, fields);\n  } else {\n    return Object(_wordpress_html_entities__WEBPACK_IMPORTED_MODULE_1__[\"decodeEntities\"])(payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.description);\n  }\n};\n\nvar Label = function Label() {\n  var styles = {\n    divWidth: {\n      width: '95%'\n    },\n    imgFloat: {\n      \"float\": 'right'\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.divWidth\n  }, /*#__PURE__*/React.createElement(\"span\", null, payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.title), /*#__PURE__*/React.createElement(\"img\", {\n    style: styles.imgFloat,\n    src: payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.logo_url,\n    alt: payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.title\n  }));\n};\n\nObject(_woocommerce_blocks_registry__WEBPACK_IMPORTED_MODULE_0__[\"registerPaymentMethod\"])({\n  name: PAYMENT_METHOD_NAME,\n  label: /*#__PURE__*/React.createElement(Label, null),\n  ariaLabel: 'Payzen payment method',\n  canMakePayment: function canMakePayment() {\n    return true;\n  },\n  content: /*#__PURE__*/React.createElement(Content, null),\n  edit: /*#__PURE__*/React.createElement(Content, null),\n  supports: {\n    features: (_payzen_data$supports = payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.supports) !== null && _payzen_data$supports !== void 0 ? _payzen_data$supports : []\n  }\n});\n\nvar displayFields = function displayFields() {\n  if (jQuery(submitButton).length == 0) {\n    return;\n  }\n\n  if (!jQuery(\"#radio-control-wc-payment-method-options-payzenwcssubscription\").is(\":checked\")) {\n    return;\n  }\n\n  if (payzen_data !== null && payzen_data !== void 0 && payzen_data.vars) {\n    delete window.FORM_TOKEN;\n    delete window.PAYZEN_HIDE_SINGLE_BUTTON;\n    window.PAYZEN_BUTTON_TEXT = jQuery(submitButton).text();\n    eval(payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.vars);\n    hideButton = window.PAYZEN_HIDE_SINGLE_BUTTON == true;\n    KR.onFormReady(function () {\n      if (hideSmart) {\n        var element = jQuery(\".kr-smart-button\");\n\n        if (element.length > 0) {\n          smartbuttonMethod = element.attr(\"kr-payment-method\");\n          element.hide();\n        } else {\n          element = jQuery(\".kr-smart-form-modal-button\");\n\n          if (element.length > 0) {\n            smartbuttonMethod = \"all\";\n            element.hide();\n          }\n        }\n      }\n    });\n  }\n\n  payzenUpdatePaymentBlock(true, PAYMENT_METHOD_NAME);\n};\n\nvar onButtonClick = function onButtonClick(e) {\n  if (!jQuery(\"#radio-control-wc-payment-method-options-\" + PAYMENT_METHOD_NAME).is(\":checked\")) {\n    return true;\n  } // In case of form validation error, let WooCommerce deal with it.\n\n\n  if (jQuery('div.wc-block-components-validation-error')[0]) {\n    return true;\n  }\n\n  jQuery('.kr-form-error').html('');\n  window.PAYZEN_BUTTON_TEXT = jQuery(submitButton).text();\n  document.cookie = 'payzenwcssubscription_force_redir=; Max-Age=0; path=/; domain=' + location.host;\n\n  if (typeof window.FORM_TOKEN == 'undefined') {\n    document.cookie = 'payzenwcssubscription_force_redir=\"true\"; path=/; domain=' + location.host;\n    return true;\n  }\n\n  block();\n\n  if (!hideButton && !hideSmart) {\n    validateKR(KR);\n  } else {\n    submitForm(KR);\n  }\n\n  e.preventDefault();\n};\n\nvar submitForm = function submitForm(KR) {\n  jQuery.ajaxPrefilter(function (options, originalOptions, jqXHR) {\n    newData = options.data;\n  });\n  var registerCard = jQuery('input[name=\"kr-do-register\"]').is(':checked');\n\n  if (savedData && newData === savedData) {\n    // Data in checkout page has not changed, no need to calculate token again.\n    submitKR(KR);\n  } else {\n    savedData = newData;\n    jQuery.ajax({\n      method: 'POST',\n      url: payzen_data === null || payzen_data === void 0 ? void 0 : payzen_data.token_url,\n      data: {\n        'use_identifier': 0\n      },\n      success: function success(data) {\n        var parsed = JSON.parse(data);\n        KR.setFormConfig({\n          language: window.PAYZEN_LANGUAGE,\n          formToken: parsed.formToken\n        }).then(function (v) {\n          KR = v.KR;\n\n          if (registerCard) {\n            jQuery('input[name=\"kr-do-register\"]').attr('checked', 'checked');\n          }\n\n          submitKR(KR);\n        });\n      }\n    });\n  }\n};\n\nvar submitKR = function submitKR(KR) {\n  if (hideButton) {\n    var element = jQuery('.kr-smart-button');\n\n    if (element.length > 0) {\n      smartbuttonMethod = element.attr('kr-payment-method');\n    } else {\n      element = jQuery('.kr-smart-form-modal-button');\n\n      if (element.length > 0) {\n        smartbuttonAll = true;\n      }\n    }\n  }\n\n  var popin = jQuery(\".kr-smart-form-modal-button\").length > 0 || jQuery(\".kr-popin-button\").length > 0;\n\n  if (popin || smartbuttonAll) {\n    KR.openPopin();\n    unblock();\n  } else if (hideButton) {\n    KR.openSelectedPaymentMethod();\n    unblock();\n  } else if (smartbuttonMethod.length > 0) {\n    KR.openPaymentMethod(smartbuttonMethod);\n    unblock();\n  } else {\n    jQuery('#payzen_rest_processing').css('display', 'block');\n    KR.submit();\n  }\n\n  return false;\n};\n\nvar block = function block() {\n  jQuery('form.wc-block-components-form wc-block-checkout__form').block();\n  jQuery(submitButton).prop(\"disabled\", true);\n};\n\nvar unblock = function unblock() {\n  jQuery('form.wc-block-components-form wc-block-checkout__form').unblock();\n  jQuery(submitButton).prop(\"disabled\", false);\n  jQuery('.wc-block-components-button__text').text(\"\").text(window.PAYZEN_BUTTON_TEXT);\n  return false;\n};\n\nvar validateKR = function validateKR(KR) {\n  KR.validateForm().then(function (v) {\n    submitForm(v.KR);\n  })[\"catch\"](function (v) {\n    // Display error message.\n    var result = v.result;\n    result.doOnError();\n  });\n};\n\nvar first = true;\n\nvar initFields = function initFields() {\n  if (!first) {\n    displayFields();\n    jQuery(submitButton).on('click', onButtonClick);\n    jQuery('input[type=radio][name=radio-control-wc-payment-method-options]').change(function (e) {\n      if (this.value === PAYMENT_METHOD_NAME) {\n        displayFields();\n      }\n    });\n  }\n\n  first = false;\n};\n\njQuery(document).on('ready', initFields);\njQuery(window).on('load', initFields);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvYmxvY2tzL3BheXplbndjc3N1YnNjcmlwdGlvbi5qcz81ODFlIl0sIm5hbWVzIjpbIlBBWU1FTlRfTUVUSE9EX05BTUUiLCJwYXl6ZW5fZGF0YSIsImdldFBheXplblNlcnZlckRhdGEiLCJzdWJtaXRCdXR0b24iLCJzbWFydGJ1dHRvbk1ldGhvZCIsInNtYXJ0YnV0dG9uQWxsIiwiaGlkZVNtYXJ0IiwiaGlkZV9zbWFydGJ1dHRvbiIsImhpZGVCdXR0b24iLCJzYXZlZERhdGEiLCJuZXdEYXRhIiwiQ29udGVudCIsInBheW1lbnRfZmllbGRzIiwiZmllbGRzIiwiX19odG1sIiwiZGVjb2RlRW50aXRpZXMiLCJkZXNjcmlwdGlvbiIsIkxhYmVsIiwic3R5bGVzIiwiZGl2V2lkdGgiLCJ3aWR0aCIsImltZ0Zsb2F0IiwidGl0bGUiLCJsb2dvX3VybCIsInJlZ2lzdGVyUGF5bWVudE1ldGhvZCIsIm5hbWUiLCJsYWJlbCIsImFyaWFMYWJlbCIsImNhbk1ha2VQYXltZW50IiwiY29udGVudCIsImVkaXQiLCJzdXBwb3J0cyIsImZlYXR1cmVzIiwiZGlzcGxheUZpZWxkcyIsImpRdWVyeSIsImxlbmd0aCIsImlzIiwidmFycyIsIndpbmRvdyIsIkZPUk1fVE9LRU4iLCJQQVlaRU5fSElERV9TSU5HTEVfQlVUVE9OIiwiUEFZWkVOX0JVVFRPTl9URVhUIiwidGV4dCIsImV2YWwiLCJLUiIsIm9uRm9ybVJlYWR5IiwiZWxlbWVudCIsImF0dHIiLCJoaWRlIiwicGF5emVuVXBkYXRlUGF5bWVudEJsb2NrIiwib25CdXR0b25DbGljayIsImUiLCJodG1sIiwiZG9jdW1lbnQiLCJjb29raWUiLCJsb2NhdGlvbiIsImhvc3QiLCJibG9jayIsInZhbGlkYXRlS1IiLCJzdWJtaXRGb3JtIiwicHJldmVudERlZmF1bHQiLCJhamF4UHJlZmlsdGVyIiwib3B0aW9ucyIsIm9yaWdpbmFsT3B0aW9ucyIsImpxWEhSIiwiZGF0YSIsInJlZ2lzdGVyQ2FyZCIsInN1Ym1pdEtSIiwiYWpheCIsIm1ldGhvZCIsInVybCIsInRva2VuX3VybCIsInN1Y2Nlc3MiLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJzZXRGb3JtQ29uZmlnIiwibGFuZ3VhZ2UiLCJQQVlaRU5fTEFOR1VBR0UiLCJmb3JtVG9rZW4iLCJ0aGVuIiwidiIsInBvcGluIiwib3BlblBvcGluIiwidW5ibG9jayIsIm9wZW5TZWxlY3RlZFBheW1lbnRNZXRob2QiLCJvcGVuUGF5bWVudE1ldGhvZCIsImNzcyIsInN1Ym1pdCIsInByb3AiLCJ2YWxpZGF0ZUZvcm0iLCJyZXN1bHQiLCJkb09uRXJyb3IiLCJmaXJzdCIsImluaXRGaWVsZHMiLCJvbiIsImNoYW5nZSIsInZhbHVlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBRUEsSUFBTUEsbUJBQW1CLEdBQUcsdUJBQTVCO0FBQ0EsSUFBSUMsV0FBVyxHQUFHQyxpRkFBbUIsQ0FBQ0YsbUJBQUQsQ0FBckM7QUFFQSxJQUFJRyxZQUFZLEdBQUcsa0RBQW5CO0FBQ0EsSUFBSUMsaUJBQWlCLEdBQUcsRUFBeEI7QUFDQSxJQUFJQyxjQUFjLEdBQUcsS0FBckI7QUFDQSxJQUFJQyxTQUFTLEdBQUcsQ0FBQUwsV0FBVyxTQUFYLElBQUFBLFdBQVcsV0FBWCxZQUFBQSxXQUFXLENBQUVNLGdCQUFiLEtBQWtDLENBQUFOLFdBQVcsU0FBWCxJQUFBQSxXQUFXLFdBQVgsWUFBQUEsV0FBVyxDQUFFTSxnQkFBYixNQUFrQyxNQUFwRjtBQUNBLElBQUlDLFVBQVUsR0FBRyxLQUFqQjtBQUVBLElBQUlDLFNBQVMsR0FBRyxLQUFoQjtBQUNBLElBQUlDLE9BQU8sR0FBRyxJQUFkOztBQUVBLElBQU1DLE9BQU8sR0FBRyxTQUFWQSxPQUFVLEdBQU07QUFDbEIsTUFBSVYsV0FBSixhQUFJQSxX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TixDQUEwRThELE1BQTFFLENBQWlGLFVBQVM3QyxDQUFULEVBQVk7QUFDekYsVUFBSSxLQUFLOEMsS0FBTCxLQUFlakcsbUJBQW5CLEVBQXdDO0FBQ3BDaUMscUJBQWE7QUFDaEI7QUFDSixLQUpEO0FBS0g7O0FBRUQ0RCxPQUFLLEdBQUcsS0FBUjtBQUNILENBYkQ7O0FBZUEzRCxNQUFNLENBQUNtQixRQUFELENBQU4sQ0FBaUIwQyxFQUFqQixDQUFvQixPQUFwQixFQUE2QkQsVUFBN0I7QUFDQTVELE1BQU0sQ0FBQ0ksTUFBRCxDQUFOLENBQWV5RCxFQUFmLENBQWtCLE1BQWxCLEVBQTBCRCxVQUExQiIsImZpbGUiOiI0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgwqkgTHlyYSBOZXR3b3JrIGFuZCBjb250cmlidXRvcnMuXG4gKiBUaGlzIGZpbGUgaXMgcGFydCBvZiBQYXlaZW4gcGx1Z2luIGZvciBXb29Db21tZXJjZS4gU2VlIENPUFlJTkcubWQgZm9yIGxpY2Vuc2UgZGV0YWlscy5cbiAqXG4gKiBAYXV0aG9yICAgIEx5cmEgTmV0d29yayAoaHR0cHM6Ly93d3cubHlyYS5jb20vKVxuICogQGF1dGhvciAgICBHZW9mZnJleSBDcm9mdGUsIEFsc2FjcsOpYXRpb25zIChodHRwczovL3d3dy5hbHNhY3JlYXRpb25zLmZyLylcbiAqIEBjb3B5cmlnaHQgTHlyYSBOZXR3b3JrIGFuZCBjb250cmlidXRvcnNcbiAqIEBsaWNlbnNlICAgaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL29sZC1saWNlbnNlcy9ncGwtMi4wLmh0bWwgR05VIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgKEdQTCB2MilcbiAqL1xuXG4vKipcbiAqIEV4dGVybmFsIGRlcGVuZGVuY2llcy5cbiAqL1xuaW1wb3J0IHsgcmVnaXN0ZXJQYXltZW50TWV0aG9kIH0gZnJvbSAnQHdvb2NvbW1lcmNlL2Jsb2Nrcy1yZWdpc3RyeSc7XG5pbXBvcnQgeyBkZWNvZGVFbnRpdGllcyB9IGZyb20gJ0B3b3JkcHJlc3MvaHRtbC1lbnRpdGllcyc7XG5cbi8qKlxuICogSW50ZXJuYWwgZGVwZW5kZW5jaWVzLlxuICovXG5pbXBvcnQgeyBnZXRQYXl6ZW5TZXJ2ZXJEYXRhIH0gZnJvbSAnLi9wYXl6ZW4tdXRpbHMnO1xuXG5jb25zdCBQQVlNRU5UX01FVEhPRF9OQU1FID0gJ3BheXplbndjc3N1YnNjcmlwdGlvbic7XG52YXIgcGF5emVuX2RhdGEgPSBnZXRQYXl6ZW5TZXJ2ZXJEYXRhKFBBWU1FTlRfTUVUSE9EX05BTUUpO1xuXG52YXIgc3VibWl0QnV0dG9uID0gJy53Yy1ibG9jay1jb21wb25lbnRzLWNoZWNrb3V0LXBsYWNlLW9yZGVyLWJ1dHRvbic7XG52YXIgc21hcnRidXR0b25NZXRob2QgPSAnJztcbnZhciBzbWFydGJ1dHRvbkFsbCA9IGZhbHNlO1xudmFyIGhpZGVTbWFydCA9IHBheXplbl9kYXRhPy5oaWRlX3NtYXJ0YnV0dG9uICYmIChwYXl6ZW5fZGF0YT8uaGlkZV9zbWFydGJ1dHRvbiA9PT0gJ3RydWUnKTtcbnZhciBoaWRlQnV0dG9uID0gZmFsc2U7XG5cbnZhciBzYXZlZERhdGEgPSBmYWxzZTtcbnZhciBuZXdEYXRhID0gbnVsbDtcblxuY29uc3QgQ29udGVudCA9ICgpID0+IHtcbiAgICBpZiAocGF5emVuX2RhdGE/LnBheW1lbnRfZmllbGRzKSB7XG4gICAgICAgIHZhciBmaWVsZHMgPSA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogcGF5emVuX2RhdGE/LnBheW1lbnRfZmllbGRzIH19IC8+O1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIHsgZmllbGRzIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVFbnRpdGllcyhwYXl6ZW5fZGF0YT8uZGVzY3JpcHRpb24pO1xuICAgIH1cbn07XG5cbnZhciBMYWJlbCA9ICgpID0+IHtcbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAgIGRpdldpZHRoOiB7XG4gICAgICAgICAgICB3aWR0aDogJzk1JSdcbiAgICAgICAgfSxcbiAgICAgICAgaW1nRmxvYXQ6IHtcbiAgICAgICAgICAgIGZsb2F0OiAncmlnaHQnXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXsgc3R5bGVzLmRpdldpZHRoIH0+XG4gICAgICAgICAgICA8c3Bhbj57IHBheXplbl9kYXRhPy50aXRsZSB9PC9zcGFuPlxuICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHN0eWxlPXsgc3R5bGVzLmltZ0Zsb2F0IH1cbiAgICAgICAgICAgICAgICBzcmM9eyBwYXl6ZW5fZGF0YT8ubG9nb191cmwgfVxuICAgICAgICAgICAgICAgIGFsdD17IHBheXplbl9kYXRhPy50aXRsZSB9XG4gICAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cbiAgICApO1xufTtcblxucmVnaXN0ZXJQYXltZW50TWV0aG9kKHtcbiAgICBuYW1lOiBQQVlNRU5UX01FVEhPRF9OQU1FLFxuICAgIGxhYmVsOiA8TGFiZWwgLz4sXG4gICAgYXJpYUxhYmVsOiAnUGF5emVuIHBheW1lbnQgbWV0aG9kJyxcbiAgICBjYW5NYWtlUGF5bWVudDogKCkgPT4gdHJ1ZSxcbiAgICBjb250ZW50OiA8Q29udGVudCAvPixcbiAgICBlZGl0OiA8Q29udGVudCAvPixcbiAgICBzdXBwb3J0czoge1xuICAgICAgICBmZWF0dXJlczogcGF5emVuX2RhdGE/LnN1cHBvcnRzID8/IFtdLFxuICAgIH0sXG59KTtcblxudmFyIGRpc3BsYXlGaWVsZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGpRdWVyeShzdWJtaXRCdXR0b24pLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoISBqUXVlcnkoXCIjcmFkaW8tY29udHJvbC13Yy1wYXltZW50LW1ldGhvZC1vcHRpb25zLXBheXplbndjc3N1YnNjcmlwdGlvblwiKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGF5emVuX2RhdGE/LnZhcnMpIHtcbiAgICAgICAgZGVsZXRlKHdpbmRvdy5GT1JNX1RPS0VOKTtcbiAgICAgICAgZGVsZXRlKHdpbmRvdy5QQVlaRU5fSElERV9TSU5HTEVfQlVUVE9OKTtcblxuICAgICAgICB3aW5kb3cuUEFZWkVOX0JVVFRPTl9URVhUID0galF1ZXJ5KHN1Ym1pdEJ1dHRvbikudGV4dCgpO1xuICAgICAgICBldmFsKHBheXplbl9kYXRhPy52YXJzKTtcblxuICAgICAgICBoaWRlQnV0dG9uID0gKHdpbmRvdy5QQVlaRU5fSElERV9TSU5HTEVfQlVUVE9OID09IHRydWUpO1xuXG4gICAgICAgIEtSLm9uRm9ybVJlYWR5KCgpID0+IHtcbiAgICAgICAgICAgIGlmIChoaWRlU21hcnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IGpRdWVyeShcIi5rci1zbWFydC1idXR0b25cIik7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzbWFydGJ1dHRvbk1ldGhvZCA9IGVsZW1lbnQuYXR0cihcImtyLXBheW1lbnQtbWV0aG9kXCIpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0galF1ZXJ5KFwiLmtyLXNtYXJ0LWZvcm0tbW9kYWwtYnV0dG9uXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbWFydGJ1dHRvbk1ldGhvZCA9IFwiYWxsXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcGF5emVuVXBkYXRlUGF5bWVudEJsb2NrKHRydWUsIFBBWU1FTlRfTUVUSE9EX05BTUUpO1xufTtcblxudmFyIG9uQnV0dG9uQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghIGpRdWVyeShcIiNyYWRpby1jb250cm9sLXdjLXBheW1lbnQtbWV0aG9kLW9wdGlvbnMtXCIgKyBQQVlNRU5UX01FVEhPRF9OQU1FKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEluIGNhc2Ugb2YgZm9ybSB2YWxpZGF0aW9uIGVycm9yLCBsZXQgV29vQ29tbWVyY2UgZGVhbCB3aXRoIGl0LlxuICAgIGlmIChqUXVlcnkoJ2Rpdi53Yy1ibG9jay1jb21wb25lbnRzLXZhbGlkYXRpb24tZXJyb3InKVswXSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBqUXVlcnkoJy5rci1mb3JtLWVycm9yJykuaHRtbCgnJyk7XG4gICAgd2luZG93LlBBWVpFTl9CVVRUT05fVEVYVCA9IGpRdWVyeShzdWJtaXRCdXR0b24pLnRleHQoKTtcblxuICAgIGRvY3VtZW50LmNvb2tpZSA9ICdwYXl6ZW53Y3NzdWJzY3JpcHRpb25fZm9yY2VfcmVkaXI9OyBNYXgtQWdlPTA7IHBhdGg9LzsgZG9tYWluPScgKyBsb2NhdGlvbi5ob3N0O1xuICAgIGlmICh0eXBlb2Ygd2luZG93LkZPUk1fVE9LRU4gPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gJ3BheXplbndjc3N1YnNjcmlwdGlvbl9mb3JjZV9yZWRpcj1cInRydWVcIjsgcGF0aD0vOyBkb21haW49JyArIGxvY2F0aW9uLmhvc3Q7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGJsb2NrKCk7XG5cbiAgICBpZiAoISBoaWRlQnV0dG9uICYmICEgaGlkZVNtYXJ0KSB7XG4gICAgICAgIHZhbGlkYXRlS1IoS1IpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN1Ym1pdEZvcm0oS1IpO1xuICAgIH1cblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn07XG5cbnZhciBzdWJtaXRGb3JtID0gZnVuY3Rpb24gKEtSKSB7XG4gICAgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIoZnVuY3Rpb24ob3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUikge1xuICAgICAgICBuZXdEYXRhID0gb3B0aW9ucy5kYXRhO1xuICAgIH0pO1xuXG4gICAgdmFyIHJlZ2lzdGVyQ2FyZCA9IGpRdWVyeSgnaW5wdXRbbmFtZT1cImtyLWRvLXJlZ2lzdGVyXCJdJykuaXMoJzpjaGVja2VkJyk7XG5cbiAgICBpZiAoc2F2ZWREYXRhICYmIChuZXdEYXRhID09PSBzYXZlZERhdGEpKSB7XG4gICAgICAgIC8vIERhdGEgaW4gY2hlY2tvdXQgcGFnZSBoYXMgbm90IGNoYW5nZWQsIG5vIG5lZWQgdG8gY2FsY3VsYXRlIHRva2VuIGFnYWluLlxuICAgICAgICBzdWJtaXRLUihLUik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2F2ZWREYXRhID0gbmV3RGF0YTtcbiAgICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICB1cmw6IHBheXplbl9kYXRhPy50b2tlbl91cmwsXG4gICAgICAgICAgICBkYXRhOiB7ICd1c2VfaWRlbnRpZmllcic6IDAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyc2VkID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICAgICAgICBLUi5zZXRGb3JtQ29uZmlnKHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHdpbmRvdy5QQVlaRU5fTEFOR1VBR0UsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1Ub2tlbjogcGFyc2VkLmZvcm1Ub2tlblxuICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgICAgICBLUiA9IHYuS1I7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWdpc3RlckNhcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnaW5wdXRbbmFtZT1cImtyLWRvLXJlZ2lzdGVyXCJdJykuYXR0cignY2hlY2tlZCcsJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdEtSKEtSKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufTtcblxudmFyIHN1Ym1pdEtSID0gZnVuY3Rpb24gKEtSKSB7XG4gICAgaWYgKGhpZGVCdXR0b24pIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBqUXVlcnkoJy5rci1zbWFydC1idXR0b24nKTtcblxuICAgICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzbWFydGJ1dHRvbk1ldGhvZCA9IGVsZW1lbnQuYXR0cigna3ItcGF5bWVudC1tZXRob2QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBqUXVlcnkoJy5rci1zbWFydC1mb3JtLW1vZGFsLWJ1dHRvbicpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc21hcnRidXR0b25BbGwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBvcGluID0gKGpRdWVyeShcIi5rci1zbWFydC1mb3JtLW1vZGFsLWJ1dHRvblwiKS5sZW5ndGggPiAwKSB8fCAoalF1ZXJ5KFwiLmtyLXBvcGluLWJ1dHRvblwiKS5sZW5ndGggPiAwKTtcblxuICAgIGlmIChwb3BpbiB8fCBzbWFydGJ1dHRvbkFsbCkge1xuICAgICAgICBLUi5vcGVuUG9waW4oKTtcbiAgICAgICAgdW5ibG9jaygpO1xuICAgIH0gZWxzZSBpZiAoaGlkZUJ1dHRvbikge1xuICAgICAgICBLUi5vcGVuU2VsZWN0ZWRQYXltZW50TWV0aG9kKCk7XG4gICAgICAgIHVuYmxvY2soKTtcbiAgICB9IGVsc2UgaWYgKHNtYXJ0YnV0dG9uTWV0aG9kLmxlbmd0aCA+IDApIHtcbiAgICAgICAgS1Iub3BlblBheW1lbnRNZXRob2Qoc21hcnRidXR0b25NZXRob2QpO1xuICAgICAgICB1bmJsb2NrKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgalF1ZXJ5KCcjcGF5emVuX3Jlc3RfcHJvY2Vzc2luZycpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXG4gICAgICAgIEtSLnN1Ym1pdCgpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cbnZhciBibG9jayA9IGZ1bmN0aW9uKCkge1xuICAgIGpRdWVyeSgnZm9ybS53Yy1ibG9jay1jb21wb25lbnRzLWZvcm0gd2MtYmxvY2stY2hlY2tvdXRfX2Zvcm0nKS5ibG9jaygpO1xuICAgIGpRdWVyeShzdWJtaXRCdXR0b24pLnByb3AoXCJkaXNhYmxlZFwiLCB0cnVlKTtcbn07XG5cbnZhciB1bmJsb2NrID0gZnVuY3Rpb24oKSB7XG4gICAgalF1ZXJ5KCdmb3JtLndjLWJsb2NrLWNvbXBvbmVudHMtZm9ybSB3Yy1ibG9jay1jaGVja291dF9fZm9ybScpLnVuYmxvY2soKTtcbiAgICBqUXVlcnkoc3VibWl0QnV0dG9uKS5wcm9wKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xuICAgIGpRdWVyeSgnLndjLWJsb2NrLWNvbXBvbmVudHMtYnV0dG9uX190ZXh0JykudGV4dChcIlwiKS50ZXh0KHdpbmRvdy5QQVlaRU5fQlVUVE9OX1RFWFQpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIHZhbGlkYXRlS1IgPSBmdW5jdGlvbihLUikge1xuICAgIEtSLnZhbGlkYXRlRm9ybSgpLnRoZW4oZnVuY3Rpb24odikge1xuICAgICAgICBzdWJtaXRGb3JtKHYuS1IpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgLy8gRGlzcGxheSBlcnJvciBtZXNzYWdlLlxuICAgICAgICB2YXIgcmVzdWx0ID0gdi5yZXN1bHQ7XG4gICAgICAgIHJlc3VsdC5kb09uRXJyb3IoKTtcbiAgICB9KTtcbn07XG5cbnZhciBmaXJzdCA9IHRydWU7XG52YXIgaW5pdEZpZWxkcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghIGZpcnN0KSB7XG4gICAgICAgIGRpc3BsYXlGaWVsZHMoKTtcblxuICAgICAgICBqUXVlcnkoc3VibWl0QnV0dG9uKS5vbignY2xpY2snLCBvbkJ1dHRvbkNsaWNrKTtcbiAgICAgICAgalF1ZXJ5KCdpbnB1dFt0eXBlPXJhZGlvXVtuYW1lPXJhZGlvLWNvbnRyb2wtd2MtcGF5bWVudC1tZXRob2Qtb3B0aW9uc10nKS5jaGFuZ2UoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IFBBWU1FTlRfTUVUSE9EX05BTUUpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5RmllbGRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZpcnN0ID0gZmFsc2U7XG59O1xuXG5qUXVlcnkoZG9jdW1lbnQpLm9uKCdyZWFkeScsIGluaXRGaWVsZHMpO1xualF1ZXJ5KHdpbmRvdykub24oJ2xvYWQnLCBpbml0RmllbGRzKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4\n")}]);